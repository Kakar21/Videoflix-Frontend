<main>
  <form [formGroup]="passwordForm" (ngSubmit)="resetPassword()">
    <h1>Reset password</h1>
    <!-- <div class="error">
            <img src="assets/images/icons/warning.svg" alt="">
            Passwords must match.
        </div> -->
    <p>Create a new password for your <a href="/">Videoflix</a> account.</p>
    <mat-form-field class="password-field">
      <input matInput [type]="hide() ? 'password' : 'text'" formControlName="password" placeholder="Enter a password" />
      <button type="button" mat-icon-button matSuffix (click)="clickEvent($event)" [attr.aria-label]="'Hide password'"
        [attr.aria-pressed]="hide()">
        <img [src]="hide() ? 'assets/images/icons/visibility_off.svg' : 'assets/images/icons/visibility.svg'"
          alt="Toggle password visibility">
      </button>
      <mat-error *ngIf="passwordForm.get('password')?.hasError('required')">
        Password is <strong>required</strong>.
      </mat-error>
      <mat-error *ngIf="passwordForm.get('password')?.hasError('minlength')">
        Password must be at least 6 characters long.
      </mat-error>
    </mat-form-field>
    <mat-form-field class="password-field">
      <input matInput [type]="hide() ? 'password' : 'text'" formControlName="confirmPassword"
        placeholder="Confirm password" />
      <button type="button" mat-icon-button matSuffix (click)="clickEvent($event)" [attr.aria-label]="'Hide password'"
        [attr.aria-pressed]="hide()">
        <img [src]="hide() ? 'assets/images/icons/visibility_off.svg' : 'assets/images/icons/visibility.svg'"
          alt="Toggle password visibility">
      </button>
      <mat-error *ngIf="passwordForm.get('confirmPassword')?.hasError('required')">
        Confirm password is <strong>required</strong>.
      </mat-error>
      <mat-error *ngIf="passwordForm.errors?.['passwordsMismatch']">
        Passwords do not match.
      </mat-error>
    </mat-form-field>
    <button type="submit" mat-flat-button [disabled]="passwordForm.invalid" class="filled">Reset my password</button>
  </form>
</main>